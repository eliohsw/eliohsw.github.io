{% include footer-content.html %}

<!-- Common Scripts -->
<script>
  window.addEventListener('DOMContentLoaded', function() {
    setTimeout(function() {
      const loader = document.getElementById('loader');
      if (loader) {
        loader.style.opacity = '0';
        loader.style.pointerEvents = 'none';
        setTimeout(() => loader.remove(), 400);
      }
    }, 750);
  });
</script>

<script type="module">
  import { initTheme, initSidebar, initScrollEffects, initCardImageHeights, initCardImagePreview, initFeaturedShowcase{% if page.include_greeting %}, initGreeting{% endif %}{% if page.include_ripple %}, initRipple{% endif %} } from '{{ site.baseurl }}/{{ page.js_ui_effects_path | default: "src/js/ui-effects.js" }}';

  // Function to initialize UI effects
  function initializeUIEffects() {
    if (document.querySelector('.nav-bar')) initScrollEffects();
    if (document.querySelector('.menu-btn') && document.querySelector('.mobile-sidebar')) initSidebar();
    if (document.getElementById('theme-toggle')) initTheme();
    if (document.querySelector('.card-contents')) initCardImageHeights();
    if (document.querySelector('.card-image')) initCardImagePreview();
    if (document.querySelector('.featured-container')) initFeaturedShowcase();
    {% if page.include_greeting %}
    if (document.getElementById('greeting')) initGreeting();
    {% endif %}
    {% if page.include_ripple %}
    if (document.body) initRipple();
    {% endif %}
  }

  const runUIEffects = () => {
    initializeUIEffects();
  };

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', runUIEffects, { once: true });
  } else {
    runUIEffects();
  }
</script>

{% if page.additional_scripts %}
  {% for script in page.additional_scripts %}
<script type="module" src="{{ site.baseurl }}/{{ script }}"></script>
  {% endfor %}
{% endif %}
